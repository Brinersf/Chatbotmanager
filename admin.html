<!DOCTYPE html>

<html lang="pt-BR">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>ChatBot Pro - Plataforma para Cl√≠nicas de Est√©tica</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>

        .chat-message {

            animation: slideIn 0.3s ease-out;

        }

        @keyframes slideIn {

            from { opacity: 0; transform: translateY(10px); }

            to { opacity: 1; transform: translateY(0); }

        }

        .procedure-card {

            transition: all 0.3s ease;

        }

        .procedure-card:hover {

            transform: translateY(-5px);

        }

        .calendar-day {

            transition: all 0.2s ease;

            cursor: pointer;

        }

        .calendar-day:hover {

            background: #fdf2f8;

            transform: scale(1.05);

        }

        .calendar-day.today {

            background: linear-gradient(135deg, #ec4899, #8b5cf6);

            color: white;

        }

        .calendar-day.has-appointments {

            background: #fef3c7;

            border: 2px solid #f59e0b;

        }

        .nav-btn.active {

            color: #ec4899 !important;

            border-bottom: 2px solid #ec4899;

        }

    </style>

</head>

<body class="bg-gradient-to-br from-pink-50 to-purple-50 min-h-screen">

    <!-- Header -->

    <header class="bg-white shadow-lg border-b-4 border-pink-400">

        <div class="container mx-auto px-6 py-4">

            <div class="flex items-center justify-between">

                <div class="flex items-center space-x-3">

                    <div class="w-12 h-12 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center">

                        <i class="fas fa-robot text-white text-xl"></i>

                    </div>

                    <div>

                        <h1 class="text-2xl font-bold text-gray-800">ChatBot Pro</h1>

                        <p class="text-sm text-gray-600">Plataforma para Cl√≠nicas de Est√©tica</p>

                    </div>

                </div>

                <div class="flex items-center space-x-4">

                    <button onclick="showSection('links')" class="bg-gradient-to-r from-pink-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition-all flex items-center space-x-2">

                        <i class="fas fa-share-alt"></i>

                        <span>Compartilhar ChatBot</span>

                    </button>

                    <div class="text-right">

                        <p class="text-sm text-gray-600">Bem-vindo,</p>

                        <p class="font-semibold text-gray-800">Administrador</p>

                    </div>

                    <div class="w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center">

                        <i class="fas fa-user text-white"></i>

                    </div>

                </div>

            </div>

        </div>

    </header>

    <!-- Navigation -->

    <nav class="bg-white shadow-md">

        <div class="container mx-auto px-6">

            <div class="flex space-x-8">

                <button onclick="showSection('clinics')" class="nav-btn py-4 px-6 text-pink-600 border-b-2 border-pink-600 font-semibold active">

                    <i class="fas fa-building mr-2"></i>Minhas Cl√≠nicas

                </button>

                <button onclick="showSection('agenda')" class="nav-btn py-4 px-6 text-gray-600 hover:text-pink-600 font-semibold">

                    <i class="fas fa-calendar-alt mr-2"></i>Agenda

                </button>

                <button onclick="showSection('procedures')" class="nav-btn py-4 px-6 text-gray-600 hover:text-pink-600 font-semibold">

                    <i class="fas fa-list mr-2"></i>Procedimentos

                </button>

                <button onclick="showSection('chatbot')" class="nav-btn py-4 px-6 text-gray-600 hover:text-pink-600 font-semibold">

                    <i class="fas fa-robot mr-2"></i>ChatBot

                </button>

                <button onclick="showSection('settings')" class="nav-btn py-4 px-6 text-gray-600 hover:text-pink-600 font-semibold">

                    <i class="fas fa-cog mr-2"></i>Configura√ß√µes

                </button>

            </div>

        </div>

    </nav>

    <!-- Main Content -->

    <main class="container mx-auto px-6 py-8">

        <!-- Clinics Section -->

        <div id="clinics" class="section">

            <div class="flex justify-between items-center mb-8">

                <div>

                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Minhas Cl√≠nicas</h2>

                    <p class="text-gray-600">Gerencie suas cl√≠nicas e seus planos de assinatura</p>

                </div>

                <button onclick="alert('Funcionalidade em desenvolvimento!')" class="bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all">

                    <i class="fas fa-plus mr-2"></i>Nova Cl√≠nica

                </button>

            </div>

            <!-- Clinics Grid -->

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

                <!-- Clinic 1 -->

                <div class="bg-white rounded-xl shadow-lg overflow-hidden">

                    <div class="bg-gradient-to-r from-pink-500 to-purple-600 p-4 text-white">

                        <div class="flex items-center justify-between">

                            <div>

                                <h3 class="font-bold text-lg">Est√©tica Pro</h3>

                                <p class="text-sm opacity-90">ChatBot Pro</p>

                            </div>

                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">

                                <i class="fas fa-spa text-xl"></i>

                            </div>

                        </div>

                    </div>

                    

                    <div class="p-6">

                        <div class="flex items-center justify-between mb-4">

                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-semibold">ATIVO</span>

                            <span class="text-2xl font-bold text-gray-800">R$ 197/m√™s</span>

                        </div>

                        

                        <div class="space-y-3 mb-4">

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Conversas este m√™s:</span>

                                <span class="font-semibold">847</span>

                            </div>

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Agendamentos:</span>

                                <span class="font-semibold">156</span>

                            </div>

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Taxa convers√£o:</span>

                                <span class="font-semibold text-green-600">18.4%</span>

                            </div>

                        </div>

                        

                        <div class="space-y-2">

                            <button onclick="showSection('chatbot')" class="w-full bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600 transition-colors">

                                <i class="fas fa-cog mr-2"></i>Gerenciar

                            </button>

                            <button onclick="alert('Relat√≥rios em desenvolvimento!')" class="w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors">

                                <i class="fas fa-chart-bar mr-2"></i>Ver Relat√≥rios

                            </button>

                        </div>

                    </div>

                </div>

                <!-- Clinic 2 -->

                <div class="bg-white rounded-xl shadow-lg overflow-hidden">

                    <div class="bg-gradient-to-r from-blue-500 to-cyan-600 p-4 text-white">

                        <div class="flex items-center justify-between">

                            <div>

                                <h3 class="font-bold text-lg">Beleza & Bem-Estar</h3>

                                <p class="text-sm opacity-90">ChatBot Pro</p>

                            </div>

                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">

                                <i class="fas fa-leaf text-xl"></i>

                            </div>

                        </div>

                    </div>

                    

                    <div class="p-6">

                        <div class="flex items-center justify-between mb-4">

                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-semibold">ATIVO</span>

                            <span class="text-2xl font-bold text-gray-800">R$ 197/m√™s</span>

                        </div>

                        

                        <div class="space-y-3 mb-4">

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Conversas este m√™s:</span>

                                <span class="font-semibold">234</span>

                            </div>

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Agendamentos:</span>

                                <span class="font-semibold">42</span>

                            </div>

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Taxa convers√£o:</span>

                                <span class="font-semibold text-green-600">17.9%</span>

                            </div>

                        </div>

                        

                        <div class="space-y-2">

                            <button onclick="showSection('chatbot')" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">

                                <i class="fas fa-cog mr-2"></i>Gerenciar

                            </button>

                            <button onclick="alert('Relat√≥rios em desenvolvimento!')" class="w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors">

                                <i class="fas fa-chart-bar mr-2"></i>Ver Relat√≥rios

                            </button>

                        </div>

                    </div>

                </div>

                <!-- Clinic 3 -->

                <div class="bg-white rounded-xl shadow-lg overflow-hidden">

                    <div class="bg-gradient-to-r from-purple-500 to-pink-600 p-4 text-white">

                        <div class="flex items-center justify-between">

                            <div>

                                <h3 class="font-bold text-lg">Harmonia Facial</h3>

                                <p class="text-sm opacity-90">ChatBot Pro</p>

                            </div>

                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">

                                <i class="fas fa-magic text-xl"></i>

                            </div>

                        </div>

                    </div>

                    

                    <div class="p-6">

                        <div class="flex items-center justify-between mb-4">

                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-semibold">ATIVO</span>

                            <span class="text-2xl font-bold text-gray-800">R$ 197/m√™s</span>

                        </div>

                        

                        <div class="space-y-3 mb-4">

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Conversas este m√™s:</span>

                                <span class="font-semibold">189</span>

                            </div>

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Agendamentos:</span>

                                <span class="font-semibold">34</span>

                            </div>

                            <div class="flex items-center justify-between text-sm">

                                <span class="text-gray-600">Taxa convers√£o:</span>

                                <span class="font-semibold text-green-600">18.0%</span>

                            </div>

                        </div>

                        

                        <div class="space-y-2">

                            <button onclick="showSection('chatbot')" class="w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors">

                                <i class="fas fa-cog mr-2"></i>Gerenciar

                            </button>

                            <button onclick="alert('Relat√≥rios em desenvolvimento!')" class="w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors">

                                <i class="fas fa-chart-bar mr-2"></i>Ver Relat√≥rios

                            </button>

                        </div>

                    </div>

                </div>

            </div>

            <!-- Plan Information -->

            <div class="mt-12">

                <div class="bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl shadow-lg p-8 text-white text-center">

                    <div class="mb-6">

                        <h3 class="text-3xl font-bold mb-2">ChatBot Pro</h3>

                        <p class="text-lg opacity-90">Plano √∫nico com tudo inclu√≠do</p>

                    </div>

                    

                    <div class="mb-8">

                        <span class="text-5xl font-bold">R$ 197</span>

                        <span class="text-xl opacity-90">/m√™s</span>

                    </div>

                    

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">

                        <div class="bg-white bg-opacity-20 rounded-lg p-4">

                            <h4 class="font-semibold mb-3">‚ú® Recursos Inclusos</h4>

                            <ul class="text-sm space-y-2 text-left">

                                <li>‚Ä¢ Conversas ilimitadas</li>

                                <li>‚Ä¢ ChatBot inteligente com IA</li>

                                <li>‚Ä¢ Integra√ß√£o WhatsApp</li>

                                <li>‚Ä¢ Agendamento autom√°tico</li>

                                <li>‚Ä¢ Relat√≥rios detalhados</li>

                            </ul>

                        </div>

                        

                        <div class="bg-white bg-opacity-20 rounded-lg p-4">

                            <h4 class="font-semibold mb-3">üéØ Benef√≠cios</h4>

                            <ul class="text-sm space-y-2 text-left">

                                <li>‚Ä¢ Atendimento 24/7</li>

                                <li>‚Ä¢ Aumento de convers√µes</li>

                                <li>‚Ä¢ Suporte priorit√°rio</li>

                                <li>‚Ä¢ Atualiza√ß√µes gratuitas</li>

                                <li>‚Ä¢ Sem taxa de setup</li>

                            </ul>

                        </div>

                    </div>

                    

                    <div class="bg-white bg-opacity-10 rounded-lg p-4 mb-6">

                        <p class="text-sm">

                            <i class="fas fa-gift mr-2"></i>

                            <strong>Oferta especial:</strong> 7 dias gr√°tis para testar + desconto de 20% no primeiro m√™s

                        </p>

                    </div>

                    

                    <button onclick="alert('Funcionalidade em desenvolvimento!')" class="bg-white text-pink-600 px-8 py-3 rounded-lg font-bold text-lg hover:bg-gray-100 transition-colors">

                        <i class="fas fa-rocket mr-2"></i>Come√ßar Agora

                    </button>

                </div>

            </div>

        </div>

        <!-- Agenda Section -->

        <div id="agenda" class="section hidden">

            <div class="flex justify-between items-center mb-8">

                <div>

                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Agenda de Atendimentos</h2>

                    <p class="text-gray-600">Gerencie agendamentos, hor√°rios e lembretes autom√°ticos</p>

                </div>

                <div class="flex space-x-4">

                    <button onclick="sendReminders()" class="bg-yellow-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-yellow-600 transition-all">

                        <i class="fas fa-bell mr-2"></i>Enviar Lembretes (3)

                    </button>

                    <button onclick="openAvailabilityManager()" class="bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all">

                        <i class="fas fa-calendar-check mr-2"></i>Gerenciar Disponibilidade

                    </button>

                </div>

            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

                <!-- Calendar -->

                <div class="lg:col-span-2">

                    <div class="bg-white rounded-xl shadow-lg p-6">

                        <div class="flex items-center justify-between mb-6">

                            <h3 class="text-xl font-bold text-gray-800">Calend√°rio</h3>

                            <div class="flex items-center space-x-4">

                                <button onclick="previousMonth()" class="p-2 hover:bg-gray-100 rounded-lg">

                                    <i class="fas fa-chevron-left text-gray-600"></i>

                                </button>

                                <span id="currentMonth" class="font-semibold text-lg text-gray-800">Janeiro 2024</span>

                                <button onclick="nextMonth()" class="p-2 hover:bg-gray-100 rounded-lg">

                                    <i class="fas fa-chevron-right text-gray-600"></i>

                                </button>

                            </div>

                        </div>

                        <!-- Calendar Grid -->

                        <div class="grid grid-cols-7 gap-1 mb-4">

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Dom</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Seg</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Ter</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Qua</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Qui</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Sex</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">S√°b</div>

                        </div>

                        <div id="calendarGrid" class="grid grid-cols-7 gap-1">

                            <!-- Calendar days will be generated here -->

                        </div>

                        <!-- Legend -->

                        <div class="flex items-center justify-center space-x-4 mt-6 text-sm">

                            <div class="flex items-center space-x-2">

                                <div class="w-4 h-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded"></div>

                                <span class="text-gray-600">Hoje</span>

                            </div>

                            <div class="flex items-center space-x-2">

                                <div class="w-4 h-4 bg-yellow-200 border-2 border-yellow-500 rounded"></div>

                                <span class="text-gray-600">Com agendamentos</span>

                            </div>

                            <div class="flex items-center space-x-2">

                                <div class="w-4 h-4 bg-red-100 rounded"></div>

                                <span class="text-gray-600">Indispon√≠vel</span>

                            </div>

                            <div class="flex items-center space-x-2">

                                <div class="w-4 h-4 bg-gray-100 rounded"></div>

                                <span class="text-gray-600">Dispon√≠vel</span>

                            </div>

                        </div>

                    </div>

                </div>

                <!-- Day Details -->

                <div class="bg-white rounded-xl shadow-lg p-6">

                    <div class="flex items-center justify-between mb-4">

                        <h3 class="text-xl font-bold text-gray-800">

                            <span id="selectedDate">Hoje</span>

                        </h3>

                    </div>

                    <div id="dayAppointments" class="space-y-3">

                        <div class="border border-gray-200 rounded-lg p-4">

                            <div class="flex items-center justify-between mb-2">

                                <div class="flex items-center space-x-3">

                                    <div class="w-3 h-3 rounded-full bg-green-500"></div>

                                    <span class="font-semibold text-gray-800">09:00</span>

                                    <span class="text-sm bg-green-100 text-green-800 px-2 py-1 rounded-full font-medium">Confirmado</span>

                                </div>

                            </div>

                            <div class="space-y-1">

                                <p class="font-medium text-gray-800">Maria Silva</p>

                                <p class="text-sm text-gray-600">Botox Facial</p>

                                <p class="text-sm text-gray-500">(11) 99999-1111</p>

                            </div>

                        </div>

                        <div class="border border-gray-200 rounded-lg p-4">

                            <div class="flex items-center justify-between mb-2">

                                <div class="flex items-center space-x-3">

                                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>

                                    <span class="font-semibold text-gray-800">10:30</span>

                                    <span class="text-sm bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full font-medium">Pendente</span>

                                </div>

                            </div>

                            <div class="space-y-1">

                                <p class="font-medium text-gray-800">Ana Costa</p>

                                <p class="text-sm text-gray-600">Limpeza de Pele</p>

                                <p class="text-sm text-gray-500">(11) 99999-2222</p>

                            </div>

                        </div>

                    </div>

                    <!-- Availability Controls -->

                    <div class="mt-6">

                        <div class="flex items-center justify-between mb-3">

                            <h4 class="font-semibold text-gray-800">Gerenciar Disponibilidade</h4>

                        </div>

                        

                        <div class="space-y-3 mb-4">

                            <button onclick="toggleDayAvailability()" id="dayAvailabilityBtn" class="w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-medium transition-colors">

                                <i class="fas fa-ban mr-2"></i>Marcar Dia como Indispon√≠vel

                            </button>

                            

                            <button onclick="showDateTimeManager()" class="w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg text-sm font-medium transition-colors">

                                <i class="fas fa-calendar-clock mr-2"></i>Gerenciar Data e Hor√°rios

                            </button>

                        </div>

                    </div>

                    <!-- Available Times -->

                    <div class="mt-6">

                        <h4 class="font-semibold text-gray-800 mb-3">Hor√°rios do Dia</h4>

                        <div id="availableTimesList" class="grid grid-cols-2 gap-2">

                            <!-- Times will be generated here -->

                        </div>

                    </div>

                </div>

            </div>

            <!-- Quick Stats -->

            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mt-8">

                <div class="bg-white rounded-xl shadow-lg p-6 text-center">

                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3">

                        <i class="fas fa-calendar-check text-blue-600 text-xl"></i>

                    </div>

                    <h4 class="text-2xl font-bold text-gray-800">24</h4>

                    <p class="text-gray-600">Agendamentos Hoje</p>

                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 text-center">

                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">

                        <i class="fas fa-check-circle text-green-600 text-xl"></i>

                    </div>

                    <h4 class="text-2xl font-bold text-gray-800">18</h4>

                    <p class="text-gray-600">Confirmados</p>

                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 text-center">

                    <div class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3">

                        <i class="fas fa-clock text-yellow-600 text-xl"></i>

                    </div>

                    <h4 class="text-2xl font-bold text-gray-800">6</h4>

                    <p class="text-gray-600">Pendentes</p>

                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 text-center">

                    <div class="w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-3">

                        <i class="fas fa-bell text-pink-600 text-xl"></i>

                    </div>

                    <h4 class="text-2xl font-bold text-gray-800">3</h4>

                    <p class="text-gray-600">Lembretes Pendentes</p>

                </div>

            </div>

        </div>

        <!-- Procedures Section -->

        <div id="procedures" class="section hidden">

            <div class="flex justify-between items-center mb-8">

                <div>

                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Gerenciar Procedimentos</h2>

                    <p class="text-gray-600">Configure os tratamentos oferecidos pela sua cl√≠nica</p>

                </div>

                <button onclick="openProcedureModal()" class="bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all">

                    <i class="fas fa-plus mr-2"></i>Novo Procedimento

                </button>

            </div>

            <!-- Procedures Grid -->

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

                <!-- Procedure 1 -->

                <div class="procedure-card bg-white rounded-xl shadow-lg overflow-hidden">

                    <div class="bg-gradient-to-r from-pink-500 to-rose-500 p-4 text-white">

                        <div class="flex items-center justify-between">

                            <div>

                                <h3 class="font-bold text-lg">Botox Facial</h3>

                                <p class="text-sm opacity-90">Harmoniza√ß√£o Facial</p>

                            </div>

                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">

                                <i class="fas fa-syringe text-xl"></i>

                            </div>

                        </div>

                    </div>

                    

                    <div class="p-6">

                        <div class="flex items-center justify-between mb-4">

                            <span class="text-2xl font-bold text-gray-800">R$ 800</span>

                            <span class="text-sm text-gray-600">30 min</span>

                        </div>

                        

                        <p class="text-gray-600 text-sm mb-4">Aplica√ß√£o de toxina botul√≠nica para redu√ß√£o de rugas e linhas de express√£o</p>

                        

                        <div class="space-y-2 mb-4">

                            <h4 class="font-semibold text-gray-800 text-sm">Benef√≠cios:</h4>

                            <ul class="text-xs text-gray-600 space-y-1">

                                <li>‚Ä¢ Reduz rugas e linhas de express√£o</li>

                                <li>‚Ä¢ Resultado natural e duradouro</li>

                                <li>‚Ä¢ Procedimento r√°pido e seguro</li>

                            </ul>

                        </div>

                        

                        <div class="flex space-x-2">

                            <button onclick="editProcedure(1)" class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm">

                                <i class="fas fa-edit mr-1"></i>Editar

                            </button>

                            <button onclick="deleteProcedure(1)" class="flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors text-sm">

                                <i class="fas fa-trash mr-1"></i>Excluir

                            </button>

                        </div>

                    </div>

                </div>

                <!-- Procedure 2 -->

                <div class="procedure-card bg-white rounded-xl shadow-lg overflow-hidden">

                    <div class="bg-gradient-to-r from-red-500 to-pink-500 p-4 text-white">

                        <div class="flex items-center justify-between">

                            <div>

                                <h3 class="font-bold text-lg">Preenchimento Labial</h3>

                                <p class="text-sm opacity-90">Harmoniza√ß√£o Facial</p>

                            </div>

                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">

                                <i class="fas fa-kiss text-xl"></i>

                            </div>

                        </div>

                    </div>

                    

                    <div class="p-6">

                        <div class="flex items-center justify-between mb-4">

                            <span class="text-2xl font-bold text-gray-800">R$ 1.200</span>

                            <span class="text-sm text-gray-600">45 min</span>

                        </div>

                        

                        <p class="text-gray-600 text-sm mb-4">Preenchimento com √°cido hialur√¥nico para aumento e defini√ß√£o dos l√°bios</p>

                        

                        <div class="space-y-2 mb-4">

                            <h4 class="font-semibold text-gray-800 text-sm">Benef√≠cios:</h4>

                            <ul class="text-xs text-gray-600 space-y-1">

                                <li>‚Ä¢ L√°bios mais volumosos</li>

                                <li>‚Ä¢ Contorno definido</li>

                                <li>‚Ä¢ Hidrata√ß√£o profunda</li>

                            </ul>

                        </div>

                        

                        <div class="flex space-x-2">

                            <button onclick="editProcedure(2)" class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm">

                                <i class="fas fa-edit mr-1"></i>Editar

                            </button>

                            <button onclick="deleteProcedure(2)" class="flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors text-sm">

                                <i class="fas fa-trash mr-1"></i>Excluir

                            </button>

                        </div>

                    </div>

                </div>

                <!-- Procedure 3 -->

                <div class="procedure-card bg-white rounded-xl shadow-lg overflow-hidden">

                    <div class="bg-gradient-to-r from-green-500 to-teal-500 p-4 text-white">

                        <div class="flex items-center justify-between">

                            <div>

                                <h3 class="font-bold text-lg">Limpeza de Pele</h3>

                                <p class="text-sm opacity-90">Tratamentos Faciais</p>

                            </div>

                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">

                                <i class="fas fa-spa text-xl"></i>

                            </div>

                        </div>

                    </div>

                    

                    <div class="p-6">

                        <div class="flex items-center justify-between mb-4">

                            <span class="text-2xl font-bold text-gray-800">R$ 150</span>

                            <span class="text-sm text-gray-600">90 min</span>

                        </div>

                        

                        <p class="text-gray-600 text-sm mb-4">Limpeza completa com extra√ß√£o de cravos e hidrata√ß√£o profunda</p>

                        

                        <div class="space-y-2 mb-4">

                            <h4 class="font-semibold text-gray-800 text-sm">Benef√≠cios:</h4>

                            <ul class="text-xs text-gray-600 space-y-1">

                                <li>‚Ä¢ Remove impurezas</li>

                                <li>‚Ä¢ Desobstrui poros</li>

                                <li>‚Ä¢ Pele mais lisa</li>

                            </ul>

                        </div>

                        

                        <div class="flex space-x-2">

                            <button onclick="editProcedure(3)" class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm">

                                <i class="fas fa-edit mr-1"></i>Editar

                            </button>

                            <button onclick="deleteProcedure(3)" class="flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors text-sm">

                                <i class="fas fa-trash mr-1"></i>Excluir

                            </button>

                        </div>

                    </div>

                </div>

            </div>

        </div>

        <!-- ChatBot Section -->

        <div id="chatbot" class="section hidden">

            <div class="mb-8">

                <h2 class="text-3xl font-bold text-gray-800 mb-2">Configurar e Testar ChatBot</h2>

                <p class="text-gray-600">Personalize e simule conversas com seus clientes</p>

            </div>

            <!-- ChatBot Customization -->

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">

                <!-- Customization Panel -->

                <div class="bg-white rounded-xl shadow-lg p-6">

                    <h3 class="text-xl font-bold text-gray-800 mb-4">üé® Personalizar ChatBot</h3>

                    

                    <div class="space-y-4">

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Nome da Cl√≠nica</label>

                            <input type="text" id="clinicName" value="Est√©tica Pro" 

                                   class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500"

                                   onchange="updateChatBot()">

                        </div>

                        

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">√çcone da Cl√≠nica</label>

                            <div class="grid grid-cols-6 gap-2">

                                <button onclick="selectIcon('fas fa-spa')" class="icon-btn p-3 border-2 border-pink-500 bg-pink-50 rounded-lg hover:bg-pink-100 transition-colors" data-icon="fas fa-spa">

                                    <i class="fas fa-spa text-pink-600"></i>

                                </button>

                                <button onclick="selectIcon('fas fa-leaf')" class="icon-btn p-3 border border-gray-300 rounded-lg hover:bg-pink-50 hover:border-pink-500 transition-colors" data-icon="fas fa-leaf">

                                    <i class="fas fa-leaf text-green-600"></i>

                                </button>

                                <button onclick="selectIcon('fas fa-magic')" class="icon-btn p-3 border border-gray-300 rounded-lg hover:bg-pink-50 hover:border-pink-500 transition-colors" data-icon="fas fa-magic">

                                    <i class="fas fa-magic text-purple-600"></i>

                                </button>

                                <button onclick="selectIcon('fas fa-heart')" class="icon-btn p-3 border border-gray-300 rounded-lg hover:bg-pink-50 hover:border-pink-500 transition-colors" data-icon="fas fa-heart">

                                    <i class="fas fa-heart text-red-600"></i>

                                </button>

                                <button onclick="selectIcon('fas fa-star')" class="icon-btn p-3 border border-gray-300 rounded-lg hover:bg-pink-50 hover:border-pink-500 transition-colors" data-icon="fas fa-star">

                                    <i class="fas fa-star text-yellow-600"></i>

                                </button>

                                <button onclick="selectIcon('fas fa-gem')" class="icon-btn p-3 border border-gray-300 rounded-lg hover:bg-pink-50 hover:border-pink-500 transition-colors" data-icon="fas fa-gem">

                                    <i class="fas fa-gem text-blue-600"></i>

                                </button>

                            </div>

                        </div>

                        

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Cor do ChatBot</label>

                            <div class="grid grid-cols-6 gap-2">

                                <button onclick="selectColor('from-pink-500 to-purple-600')" class="color-btn w-8 h-8 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 border-4 border-pink-300 hover:border-pink-500"></button>

                                <button onclick="selectColor('from-blue-500 to-cyan-600')" class="color-btn w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-cyan-600 border-2 border-gray-300 hover:border-gray-500"></button>

                                <button onclick="selectColor('from-green-500 to-teal-600')" class="color-btn w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-teal-600 border-2 border-gray-300 hover:border-gray-500"></button>

                                <button onclick="selectColor('from-purple-500 to-indigo-600')" class="color-btn w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-indigo-600 border-2 border-gray-300 hover:border-gray-500"></button>

                                <button onclick="selectColor('from-red-500 to-pink-600')" class="color-btn w-8 h-8 rounded-full bg-gradient-to-r from-red-500 to-pink-600 border-2 border-gray-300 hover:border-gray-500"></button>

                                <button onclick="selectColor('from-yellow-500 to-orange-600')" class="color-btn w-8 h-8 rounded-full bg-gradient-to-r from-yellow-500 to-orange-600 border-2 border-gray-300 hover:border-gray-500"></button>

                            </div>

                        </div>

                        

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Mensagem de Boas-vindas</label>

                            <textarea id="welcomeMessage" 

                                      class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500 h-20"

                                      onchange="updateChatBot()">Ol√°! üëã Bem-vindo √† Est√©tica Pro! Como posso ajud√°-lo hoje?</textarea>

                        </div>

                        

                        <button onclick="saveChatBotConfig()" class="w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all">

                            <i class="fas fa-save mr-2"></i>Salvar Configura√ß√µes

                        </button>

                    </div>

                </div>

                <!-- Preview Panel -->

                <div class="bg-gray-100 rounded-xl p-6">

                    <h3 class="text-xl font-bold text-gray-800 mb-4">üì± Pr√©-visualiza√ß√£o</h3>

                    <div class="bg-white rounded-lg shadow-lg max-w-sm mx-auto">

                        <!-- Mobile Header -->

                        <div class="bg-gray-800 text-white p-2 rounded-t-lg flex items-center justify-between">

                            <div class="flex items-center space-x-2">

                                <div class="w-3 h-3 bg-red-500 rounded-full"></div>

                                <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>

                                <div class="w-3 h-3 bg-green-500 rounded-full"></div>

                            </div>

                            <span class="text-xs">WhatsApp Web</span>

                            <div class="w-4 h-4"></div>

                        </div>

                        

                        <!-- Chat Preview -->

                        <div id="chatPreview" class="p-4 bg-gray-50 rounded-b-lg">

                            <div class="flex items-start space-x-2">

                                <div id="previewIcon" class="w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0">

                                    <i class="fas fa-spa text-white text-xs"></i>

                                </div>

                                <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                                    <div class="mb-2">

                                        <span id="previewClinicName" class="font-semibold text-gray-800">Est√©tica Pro</span>

                                        <span class="text-xs text-gray-500 ml-2">Assistente Virtual</span>

                                    </div>

                                    <p id="previewMessage" class="text-sm text-gray-800">Ol√°! üëã Bem-vindo √† Est√©tica Pro! Como posso ajud√°-lo hoje?</p>

                                </div>

                            </div>

                        </div>

                    </div>

                </div>

            </div>

            <!-- Chat Simulator -->

            <div class="bg-white rounded-xl shadow-lg overflow-hidden max-w-md mx-auto">

                <!-- Chat Header -->

                <div id="chatHeader" class="bg-gradient-to-r from-pink-500 to-purple-600 p-4 text-white">

                    <div class="flex items-center space-x-3">

                        <div id="chatIcon" class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center">

                            <i class="fas fa-spa"></i>

                        </div>

                        <div>

                            <h3 id="chatTitle" class="font-semibold">Est√©tica Pro</h3>

                            <p class="text-sm opacity-90">Assistente Virtual</p>

                        </div>

                    </div>

                </div>

                <!-- Chat Messages -->

                <div id="chatMessages" class="h-96 overflow-y-auto p-4 space-y-4 bg-gray-50">

                    <div class="chat-message">

                        <div class="flex items-start space-x-2">

                            <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0">

                                <i class="fas fa-robot text-white text-xs"></i>

                            </div>

                            <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                                <p id="initialMessage" class="text-sm text-gray-800">Ol√°! üëã Bem-vindo √† Est√©tica Pro! Como posso ajud√°-lo hoje?</p>

                                <div class="mt-3 space-y-2">

                                    <button onclick="sendMessage('Quero conhecer os procedimentos')" class="w-full text-left text-sm bg-pink-50 hover:bg-pink-100 text-pink-700 px-3 py-2 rounded-lg transition-colors">

                                        üåü Ver procedimentos dispon√≠veis

                                    </button>

                                    <button onclick="sendMessage('Quero agendar uma consulta')" class="w-full text-left text-sm bg-purple-50 hover:bg-purple-100 text-purple-700 px-3 py-2 rounded-lg transition-colors">

                                        üìÖ Agendar consulta

                                    </button>

                                    <button onclick="sendMessage('Tenho d√∫vidas sobre pre√ßos')" class="w-full text-left text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-lg transition-colors">

                                        üí∞ Informa√ß√µes sobre pre√ßos

                                    </button>

                                    <button onclick="sendMessage('Onde voc√™s ficam localizados?')" class="w-full text-left text-sm bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg transition-colors">

                                        üìç Localiza√ß√£o e contato

                                    </button>

                                </div>

                            </div>

                        </div>

                    </div>

                </div>

                <!-- Chat Input -->

                <div class="p-4 border-t bg-white">

                    <div class="flex space-x-2">

                        <input type="text" id="chatInput" placeholder="Digite sua mensagem..." 

                               class="flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500"

                               onkeypress="if(event.key==='Enter') sendMessage()">

                        <button onclick="sendMessage()" class="bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600 transition-colors">

                            <i class="fas fa-paper-plane"></i>

                        </button>

                    </div>

                </div>

            </div>

        </div>

        <!-- Settings Section -->

        <div id="settings" class="section hidden">

            <div class="mb-8">

                <h2 class="text-3xl font-bold text-gray-800 mb-2">Configura√ß√µes</h2>

                <p class="text-gray-600">Personalize as informa√ß√µes e agenda da sua cl√≠nica</p>

            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

                <!-- Clinic Info -->

                <div class="bg-white rounded-xl shadow-lg p-6">

                    <h3 class="text-xl font-bold text-gray-800 mb-4">üìã Informa√ß√µes da Cl√≠nica</h3>

                    <div class="space-y-4">

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Nome da Cl√≠nica</label>

                            <input type="text" value="Est√©tica Pro" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500">

                        </div>

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Telefone</label>

                            <input type="text" value="(11) 99999-9999" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500">

                        </div>

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Endere√ßo</label>

                            <textarea class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500 h-20">Rua das Flores, 123 - Centro, S√£o Paulo - SP</textarea>

                        </div>

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Instagram</label>

                            <input type="text" value="@esteticapro" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500">

                        </div>

                    </div>

                </div>

                <!-- Payment Methods -->

                <div class="bg-white rounded-xl shadow-lg p-6">

                    <h3 class="text-xl font-bold text-gray-800 mb-4">üí≥ Formas de Pagamento</h3>

                    <div class="space-y-3">

                        <label class="flex items-center space-x-3">

                            <input type="checkbox" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                            <span class="text-gray-700">Dinheiro</span>

                        </label>

                        <label class="flex items-center space-x-3">

                            <input type="checkbox" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                            <span class="text-gray-700">Cart√£o de D√©bito</span>

                        </label>

                        <label class="flex items-center space-x-3">

                            <input type="checkbox" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                            <span class="text-gray-700">Cart√£o de Cr√©dito</span>

                        </label>

                        <label class="flex items-center space-x-3">

                            <input type="checkbox" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                            <span class="text-gray-700">PIX</span>

                        </label>

                        <label class="flex items-center space-x-3">

                            <input type="checkbox" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                            <span class="text-gray-700">Parcelamento</span>

                        </label>

                    </div>

                    <div class="mt-6">

                        <h4 class="font-semibold text-gray-800 mb-3">üì± Mensagens Autom√°ticas</h4>

                        <div class="space-y-3">

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Lembrete 24h antes</span>

                            </label>

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Confirma√ß√£o de agendamento</span>

                            </label>

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Follow-up p√≥s-atendimento</span>

                            </label>

                        </div>

                    </div>

                </div>

            </div>

            <div class="text-center mt-8">

                <button onclick="saveSettings()" class="bg-gradient-to-r from-pink-500 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:shadow-lg transition-all">

                    <i class="fas fa-save mr-2"></i>Salvar Configura√ß√µes

                </button>

            </div>

        </div>

        <!-- Links Section -->

        <div id="links" class="section hidden">

            <div class="mb-8">

                <h2 class="text-3xl font-bold text-gray-800 mb-2">Compartilhar ChatBot</h2>

                <p class="text-gray-600">Crie links personalizados para usar em suas redes sociais e sites</p>

            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

                <!-- Link Generator -->

                <div class="bg-white rounded-xl shadow-lg p-6">

                    <h3 class="text-xl font-bold text-gray-800 mb-4">Configurar Link</h3>

                    <div class="space-y-4">

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Link</label>

                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500">

                                <option>WhatsApp Business</option>

                                <option>Instagram Bio</option>

                                <option>Site/Blog</option>

                                <option>Facebook</option>

                            </select>

                        </div>

                        <div>

                            <label class="block text-sm font-medium text-gray-700 mb-2">Mensagem Inicial</label>

                            <textarea class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-pink-500 h-20" placeholder="Ol√°! Gostaria de saber mais sobre os procedimentos..."></textarea>

                        </div>

                        <button onclick="generateLink()" class="w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all">

                            <i class="fas fa-link mr-2"></i>Gerar Link

                        </button>

                    </div>

                </div>

                <!-- Generated Links -->

                <div class="bg-white rounded-xl shadow-lg p-6">

                    <h3 class="text-xl font-bold text-gray-800 mb-4">Links Gerados</h3>

                    <div class="space-y-4">

                        <div class="border border-gray-200 rounded-lg p-4">

                            <div class="flex items-center justify-between mb-2">

                                <span class="font-semibold text-gray-800">WhatsApp - Geral</span>

                                <button onclick="copyLink(this)" class="text-pink-600 hover:text-pink-700">

                                    <i class="fas fa-copy"></i>

                                </button>

                            </div>

                            <p class="text-sm text-gray-600 bg-gray-50 p-2 rounded break-all">

                                https://wa.me/5511999999999?text=Ol√°!%20Gostaria%20de%20conhecer%20os%20procedimentos

                            </p>

                        </div>

                        <div class="border border-gray-200 rounded-lg p-4">

                            <div class="flex items-center justify-between mb-2">

                                <span class="font-semibold text-gray-800">Instagram Bio</span>

                                <button onclick="copyLink(this)" class="text-pink-600 hover:text-pink-700">

                                    <i class="fas fa-copy"></i>

                                </button>

                            </div>

                            <p class="text-sm text-gray-600 bg-gray-50 p-2 rounded break-all">

                                https://esteticapro.com/chat?source=instagram

                            </p>

                        </div>

                    </div>

                    <div class="mt-6 p-4 bg-blue-50 rounded-lg">

                        <h4 class="font-semibold text-blue-800 mb-2">üí° Dicas de Uso</h4>

                        <ul class="text-sm text-blue-700 space-y-1">

                            <li>‚Ä¢ Use links espec√≠ficos para campanhas direcionadas</li>

                            <li>‚Ä¢ Personalize a mensagem inicial para cada rede social</li>

                            <li>‚Ä¢ Monitore qual link gera mais convers√µes</li>

                        </ul>

                    </div>

                </div>

            </div>

        </div>

    </main>

    <!-- Availability Manager Modal -->

    <div id="availabilityManagerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">

        <div class="bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">

            <div class="flex items-center justify-between mb-6">

                <h3 class="text-2xl font-bold text-gray-800">üóìÔ∏è Gerenciar Disponibilidade da Cl√≠nica</h3>

                <button onclick="closeAvailabilityManager()" class="text-gray-500 hover:text-gray-700">

                    <i class="fas fa-times text-xl"></i>

                </button>

            </div>

            

            <!-- Tabs -->

            <div class="flex space-x-4 mb-6 border-b">

                <button onclick="showAvailabilityTab('schedule')" id="scheduleTab" class="availability-tab px-4 py-2 font-semibold text-pink-600 border-b-2 border-pink-600">

                    üìÖ Hor√°rio de Funcionamento

                </button>

                <button onclick="showAvailabilityTab('calendar')" id="calendarTab" class="availability-tab px-4 py-2 font-semibold text-gray-600 hover:text-pink-600">

                    üóìÔ∏è Calend√°rio de Disponibilidade

                </button>

                <button onclick="showAvailabilityTab('bulk')" id="bulkTab" class="availability-tab px-4 py-2 font-semibold text-gray-600 hover:text-pink-600">

                    ‚ö° A√ß√µes em Massa

                </button>

            </div>

            

            <!-- Schedule Tab -->

            <div id="scheduleTabContent" class="availability-content">

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                    <div class="bg-gray-50 rounded-lg p-4">

                        <h4 class="font-semibold text-gray-800 mb-4">‚è∞ Configura√ß√µes Gerais</h4>

                        <div class="space-y-4">

                            <div>

                                <label class="block text-sm font-medium text-gray-700 mb-2">Hor√°rio de Funcionamento</label>

                                <div class="grid grid-cols-2 gap-2">

                                    <div>

                                        <label class="text-xs text-gray-600">Abertura</label>

                                        <input type="time" id="globalWorkStart" value="09:00" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                    </div>

                                    <div>

                                        <label class="text-xs text-gray-600">Fechamento</label>

                                        <input type="time" id="globalWorkEnd" value="18:00" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                    </div>

                                </div>

                            </div>

                            

                            <div>

                                <label class="block text-sm font-medium text-gray-700 mb-2">Intervalo de Almo√ßo</label>

                                <div class="grid grid-cols-2 gap-2">

                                    <div>

                                        <label class="text-xs text-gray-600">In√≠cio</label>

                                        <input type="time" id="globalLunchStart" value="12:00" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                    </div>

                                    <div>

                                        <label class="text-xs text-gray-600">Fim</label>

                                        <input type="time" id="globalLunchEnd" value="13:00" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                    </div>

                                </div>

                            </div>

                            

                            <div>

                                <label class="block text-sm font-medium text-gray-700 mb-2">Dura√ß√£o dos Atendimentos</label>

                                <select id="appointmentDuration" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                    <option value="30">30 minutos</option>

                                    <option value="45">45 minutos</option>

                                    <option value="60">60 minutos</option>

                                    <option value="90">90 minutos</option>

                                </select>

                            </div>

                        </div>

                    </div>

                    

                    <div class="bg-gray-50 rounded-lg p-4">

                        <h4 class="font-semibold text-gray-800 mb-4">üìÖ Dias de Funcionamento</h4>

                        <div class="space-y-3">

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" id="workMonday" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Segunda-feira</span>

                            </label>

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" id="workTuesday" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Ter√ßa-feira</span>

                            </label>

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" id="workWednesday" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Quarta-feira</span>

                            </label>

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" id="workThursday" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Quinta-feira</span>

                            </label>

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" id="workFriday" checked class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Sexta-feira</span>

                            </label>

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" id="workSaturday" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">S√°bado</span>

                            </label>

                            <label class="flex items-center space-x-3">

                                <input type="checkbox" id="workSunday" class="w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">

                                <span class="text-gray-700">Domingo</span>

                            </label>

                        </div>

                    </div>

                </div>

                

                <div class="mt-6 text-center">

                    <button onclick="saveGlobalSettings()" class="bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors">

                        <i class="fas fa-save mr-2"></i>Salvar Configura√ß√µes Gerais

                    </button>

                </div>

            </div>

            

            <!-- Calendar Tab -->

            <div id="calendarTabContent" class="availability-content hidden">

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

                    <!-- Calendar -->

                    <div class="bg-white rounded-lg p-6 border">

                        <div class="flex items-center justify-between mb-6">

                            <h4 class="text-xl font-bold text-gray-800">Calend√°rio de Disponibilidade</h4>

                            <div class="flex items-center space-x-4">

                                <button onclick="previousAvailabilityMonth()" class="p-2 hover:bg-gray-100 rounded-lg">

                                    <i class="fas fa-chevron-left text-gray-600"></i>

                                </button>

                                <span id="availabilityCurrentMonth" class="font-semibold text-lg text-gray-800">Janeiro 2024</span>

                                <button onclick="nextAvailabilityMonth()" class="p-2 hover:bg-gray-100 rounded-lg">

                                    <i class="fas fa-chevron-right text-gray-600"></i>

                                </button>

                            </div>

                        </div>

                        

                        <div class="grid grid-cols-7 gap-1 mb-4">

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Dom</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Seg</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Ter</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Qua</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Qui</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">Sex</div>

                            <div class="text-center text-sm font-semibold text-gray-600 p-2">S√°b</div>

                        </div>

                        

                        <div id="availabilityCalendarGrid" class="grid grid-cols-7 gap-1">

                            <!-- Calendar days will be generated here -->

                        </div>

                        

                        <!-- Legend -->

                        <div class="flex items-center justify-center space-x-4 mt-6 text-sm">

                            <div class="flex items-center space-x-2">

                                <div class="w-4 h-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded"></div>

                                <span class="text-gray-600">Hoje</span>

                            </div>

                            <div class="flex items-center space-x-2">

                                <div class="w-4 h-4 bg-green-200 rounded"></div>

                                <span class="text-gray-600">Dispon√≠vel</span>

                            </div>

                            <div class="flex items-center space-x-2">

                                <div class="w-4 h-4 bg-red-200 rounded"></div>

                                <span class="text-gray-600">Indispon√≠vel</span>

                            </div>

                            <div class="flex items-center space-x-2">

                                <div class="w-4 h-4 bg-yellow-200 rounded"></div>

                                <span class="text-gray-600">Parcialmente dispon√≠vel</span>

                            </div>

                        </div>

                    </div>

                    

                    <!-- Day Details -->

                    <div class="bg-white rounded-lg p-6 border">

                        <div class="flex items-center justify-between mb-4">

                            <h4 class="text-xl font-bold text-gray-800">

                                <span id="selectedDateDisplay">Selecione uma data</span>

                            </h4>

                        </div>

                        

                        <div id="dayManagementContent" class="space-y-4">

                            <div class="text-center text-gray-500 py-8">

                                <i class="fas fa-calendar-alt text-3xl mb-2"></i>

                                <p>Clique em uma data no calend√°rio para gerenciar</p>

                            </div>

                        </div>

                    </div>

                </div>

            </div>

            

            <!-- Bulk Actions Tab -->

            <div id="bulkTabContent" class="availability-content hidden">

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                    <div class="bg-gray-50 rounded-lg p-4">

                        <h4 class="font-semibold text-gray-800 mb-4">üóìÔ∏è A√ß√µes por Per√≠odo</h4>

                        <div class="space-y-4">

                            <div>

                                <label class="block text-sm font-medium text-gray-700 mb-2">Per√≠odo</label>

                                <div class="grid grid-cols-2 gap-2">

                                    <input type="date" id="bulkStartDate" class="border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                    <input type="date" id="bulkEndDate" class="border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                </div>

                            </div>

                            

                            <div class="space-y-2">

                                <button onclick="bulkMarkUnavailable()" class="w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-medium transition-colors">

                                    <i class="fas fa-ban mr-2"></i>Marcar Per√≠odo como Indispon√≠vel

                                </button>

                                <button onclick="bulkMarkAvailable()" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg text-sm font-medium transition-colors">

                                    <i class="fas fa-check mr-2"></i>Marcar Per√≠odo como Dispon√≠vel

                                </button>

                            </div>

                        </div>

                    </div>

                    

                    <div class="bg-gray-50 rounded-lg p-4">

                        <h4 class="font-semibold text-gray-800 mb-4">üìÖ A√ß√µes por Dia da Semana</h4>

                        <div class="space-y-4">

                            <div>

                                <label class="block text-sm font-medium text-gray-700 mb-2">Selecionar Dias</label>

                                <div class="space-y-2">

                                    <label class="flex items-center space-x-2">

                                        <input type="checkbox" class="bulk-weekday" value="1">

                                        <span class="text-sm">Todas as Segundas-feiras</span>

                                    </label>

                                    <label class="flex items-center space-x-2">

                                        <input type="checkbox" class="bulk-weekday" value="2">

                                        <span class="text-sm">Todas as Ter√ßas-feiras</span>

                                    </label>

                                    <label class="flex items-center space-x-2">

                                        <input type="checkbox" class="bulk-weekday" value="3">

                                        <span class="text-sm">Todas as Quartas-feiras</span>

                                    </label>

                                    <label class="flex items-center space-x-2">

                                        <input type="checkbox" class="bulk-weekday" value="4">

                                        <span class="text-sm">Todas as Quintas-feiras</span>

                                    </label>

                                    <label class="flex items-center space-x-2">

                                        <input type="checkbox" class="bulk-weekday" value="5">

                                        <span class="text-sm">Todas as Sextas-feiras</span>

                                    </label>

                                    <label class="flex items-center space-x-2">

                                        <input type="checkbox" class="bulk-weekday" value="6">

                                        <span class="text-sm">Todos os S√°bados</span>

                                    </label>

                                    <label class="flex items-center space-x-2">

                                        <input type="checkbox" class="bulk-weekday" value="0">

                                        <span class="text-sm">Todos os Domingos</span>

                                    </label>

                                </div>

                            </div>

                            

                            <div class="space-y-2">

                                <button onclick="bulkWeekdayUnavailable()" class="w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-medium transition-colors">

                                    <i class="fas fa-ban mr-2"></i>Marcar Dias como Indispon√≠veis

                                </button>

                                <button onclick="bulkWeekdayAvailable()" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg text-sm font-medium transition-colors">

                                    <i class="fas fa-check mr-2"></i>Marcar Dias como Dispon√≠veis

                                </button>

                            </div>

                        </div>

                    </div>

                </div>

            </div>

            

            <div class="flex justify-end space-x-3 mt-6 pt-4 border-t">

                <button onclick="closeAvailabilityManager()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-medium transition-colors">

                    Fechar

                </button>

            </div>

        </div>

    </div>

    <!-- Date and Time Management Modal -->

    <div id="dateTimeManagerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">

        <div class="bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">

            <div class="flex items-center justify-between mb-6">

                <h3 class="text-xl font-bold text-gray-800">üóìÔ∏è Gerenciar Data e Hor√°rios</h3>

                <button onclick="closeDateTimeManager()" class="text-gray-500 hover:text-gray-700">

                    <i class="fas fa-times text-xl"></i>

                </button>

            </div>

            

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

                <!-- Calendar -->

                <div class="bg-white rounded-lg p-6 border">

                    <div class="flex items-center justify-between mb-6">

                        <h4 class="text-lg font-bold text-gray-800">Selecionar Data</h4>

                        <div class="flex items-center space-x-4">

                            <button onclick="previousDateTimeMonth()" class="p-2 hover:bg-gray-100 rounded-lg">

                                <i class="fas fa-chevron-left text-gray-600"></i>

                            </button>

                            <span id="dateTimeCurrentMonth" class="font-semibold text-lg text-gray-800">Janeiro 2024</span>

                            <button onclick="nextDateTimeMonth()" class="p-2 hover:bg-gray-100 rounded-lg">

                                <i class="fas fa-chevron-right text-gray-600"></i>

                            </button>

                        </div>

                    </div>

                    

                    <div class="grid grid-cols-7 gap-1 mb-4">

                        <div class="text-center text-sm font-semibold text-gray-600 p-2">Dom</div>

                        <div class="text-center text-sm font-semibold text-gray-600 p-2">Seg</div>

                        <div class="text-center text-sm font-semibold text-gray-600 p-2">Ter</div>

                        <div class="text-center text-sm font-semibold text-gray-600 p-2">Qua</div>

                        <div class="text-center text-sm font-semibold text-gray-600 p-2">Qui</div>

                        <div class="text-center text-sm font-semibold text-gray-600 p-2">Sex</div>

                        <div class="text-center text-sm font-semibold text-gray-600 p-2">S√°b</div>

                    </div>

                    

                    <div id="dateTimeCalendarGrid" class="grid grid-cols-7 gap-1">

                        <!-- Calendar days will be generated here -->

                    </div>

                    

                    <!-- Legend -->

                    <div class="flex items-center justify-center space-x-4 mt-6 text-sm">

                        <div class="flex items-center space-x-2">

                            <div class="w-4 h-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded"></div>

                            <span class="text-gray-600">Hoje</span>

                        </div>

                        <div class="flex items-center space-x-2">

                            <div class="w-4 h-4 bg-yellow-200 border-2 border-yellow-500 rounded"></div>

                            <span class="text-gray-600">Com agendamentos</span>

                        </div>

                        <div class="flex items-center space-x-2">

                            <div class="w-4 h-4 bg-red-100 rounded"></div>

                            <span class="text-gray-600">Indispon√≠vel</span>

                        </div>

                        <div class="flex items-center space-x-2">

                            <div class="w-4 h-4 bg-gray-100 rounded"></div>

                            <span class="text-gray-600">Dispon√≠vel</span>

                        </div>

                    </div>

                </div>

                

                <!-- Date and Time Management -->

                <div class="bg-white rounded-lg p-6 border">

                    <div class="flex items-center justify-between mb-4">

                        <h4 class="text-lg font-bold text-gray-800">

                            <span id="dateTimeSelectedDate">Selecione uma data</span>

                        </h4>

                    </div>

                    

                    <div id="dateTimeManagementContent" class="space-y-4">

                        <div class="text-center text-gray-500 py-8">

                            <i class="fas fa-calendar-alt text-3xl mb-2"></i>

                            <p>Clique em uma data no calend√°rio para gerenciar</p>

                        </div>

                    </div>

                </div>

            </div>

            

            <div class="flex justify-end space-x-3 mt-6 pt-4 border-t">

                <button onclick="closeDateTimeManager()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg font-medium transition-colors">

                    Fechar

                </button>

            </div>

        </div>

    </div>

    <script>

        // Global variables

        let currentDate = new Date();

        let selectedDate = new Date();

        let chatBotConfig = {

            clinicName: 'Est√©tica Pro',

            icon: 'fas fa-spa',

            color: 'from-pink-500 to-purple-600',

            welcomeMessage: 'Ol√°! üëã Bem-vindo √† Est√©tica Pro! Como posso ajud√°-lo hoje?'

        };

        // Availability management

        let unavailableDates = new Set(); // Dias completamente indispon√≠veis

        let unavailableTimes = {}; // Hor√°rios espec√≠ficos indispon√≠veis por data

        let workingHours = {

            start: '09:00',

            end: '18:00',

            interval: 30, // minutos

            lunchStart: '12:00',

            lunchEnd: '13:00'

        };

        // Navigation functions

        function showSection(sectionId) {

            // Hide all sections

            document.querySelectorAll('.section').forEach(section => {

                section.classList.add('hidden');

            });

            

            // Show selected section

            document.getElementById(sectionId).classList.remove('hidden');

            

            // Update navigation

            document.querySelectorAll('.nav-btn').forEach(btn => {

                btn.classList.remove('text-pink-600', 'border-b-2', 'border-pink-600', 'active');

                btn.classList.add('text-gray-600');

            });

            

            event.target.classList.remove('text-gray-600');

            event.target.classList.add('text-pink-600', 'border-b-2', 'border-pink-600', 'active');

            // Load section-specific content

            if (sectionId === 'agenda') {

                loadCalendar();

            }

        }

        // Calendar functions

        function loadCalendar() {

            const grid = document.getElementById('calendarGrid');

            const monthElement = document.getElementById('currentMonth');

            

            const months = [

                'Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho',

                'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'

            ];

            

            monthElement.textContent = `${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;

            

            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);

            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);

            const startDate = new Date(firstDay);

            startDate.setDate(startDate.getDate() - firstDay.getDay());

            

            grid.innerHTML = '';

            

            for (let i = 0; i < 42; i++) {

                const cellDate = new Date(startDate);

                cellDate.setDate(startDate.getDate() + i);

                

                const isCurrentMonth = cellDate.getMonth() === currentDate.getMonth();

                const isToday = cellDate.toDateString() === new Date().toDateString();

                const isSelected = cellDate.toDateString() === selectedDate.toDateString();

                const hasAppointments = [15, 16, 17].includes(cellDate.getDate()) && isCurrentMonth;

                const dateKey = cellDate.toISOString().split('T')[0];

                const isUnavailable = unavailableDates.has(dateKey);

                

                const cell = document.createElement('div');

                cell.className = `calendar-day p-2 text-center text-sm rounded-lg ${

                    !isCurrentMonth ? 'text-gray-400' : 'text-gray-800'

                } ${isToday ? 'today text-white' : ''} ${

                    isSelected ? 'ring-2 ring-pink-500' : ''

                } ${hasAppointments ? 'has-appointments' : ''} ${

                    isUnavailable ? 'bg-red-100 text-red-600 line-through' : ''

                }`;

                

                cell.textContent = cellDate.getDate();

                cell.onclick = () => selectDate(cellDate);

                

                grid.appendChild(cell);

            }

        }

        function selectDate(date) {

            selectedDate = new Date(date);

            loadCalendar();

            updateDayAvailabilityButton();

            loadAvailableTimes();

            

            const options = { 

                weekday: 'long', 

                year: 'numeric', 

                month: 'long', 

                day: 'numeric' 

            };

            document.getElementById('selectedDate').textContent = date.toLocaleDateString('pt-BR', options);

        }

        function updateDayAvailabilityButton() {

            const dateKey = selectedDate.toISOString().split('T')[0];

            const isUnavailable = unavailableDates.has(dateKey);

            const btn = document.getElementById('dayAvailabilityBtn');

            

            if (isUnavailable) {

                btn.innerHTML = '<i class="fas fa-check mr-2"></i>Marcar Dia como Dispon√≠vel';

                btn.className = 'w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg text-sm font-medium transition-colors';

            } else {

                btn.innerHTML = '<i class="fas fa-ban mr-2"></i>Marcar Dia como Indispon√≠vel';

                btn.className = 'w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-medium transition-colors';

            }

        }

        function toggleDayAvailability() {

            const dateKey = selectedDate.toISOString().split('T')[0];

            

            if (unavailableDates.has(dateKey)) {

                unavailableDates.delete(dateKey);

                delete unavailableTimes[dateKey];

            } else {

                unavailableDates.add(dateKey);

            }

            

            loadCalendar();

            updateDayAvailabilityButton();

            loadAvailableTimes();

        }

        function loadAvailableTimes() {

            const dateKey = selectedDate.toISOString().split('T')[0];

            const timesList = document.getElementById('availableTimesList');

            

            if (unavailableDates.has(dateKey)) {

                timesList.innerHTML = '<p class="text-red-600 text-sm col-span-2 text-center">Dia indispon√≠vel</p>';

                return;

            }

            

            const times = generateTimeSlots();

            const unavailableTimesForDate = unavailableTimes[dateKey] || new Set();

            

            timesList.innerHTML = '';

            

            times.forEach(time => {

                const isUnavailable = unavailableTimesForDate.has(time);

                const button = document.createElement('button');

                

                if (isUnavailable) {

                    button.className = 'bg-red-100 text-red-600 px-3 py-2 rounded-lg text-sm font-medium cursor-not-allowed';

                    button.innerHTML = `${time} <i class="fas fa-ban ml-1"></i>`;

                    button.disabled = true;

                } else {

                    button.className = 'bg-green-100 hover:bg-green-200 text-green-800 px-3 py-2 rounded-lg text-sm font-medium transition-colors';

                    button.textContent = time;

                    button.onclick = () => scheduleAppointment(time);

                }

                

                timesList.appendChild(button);

            });

        }

        function generateTimeSlots() {

            const times = [];

            const start = timeToMinutes(workingHours.start);

            const end = timeToMinutes(workingHours.end);

            const lunchStart = timeToMinutes(workingHours.lunchStart);

            const lunchEnd = timeToMinutes(workingHours.lunchEnd);

            const interval = workingHours.interval;

            

            for (let minutes = start; minutes < end; minutes += interval) {

                // Skip lunch time

                if (minutes >= lunchStart && minutes < lunchEnd) {

                    continue;

                }

                

                times.push(minutesToTime(minutes));

            }

            

            return times;

        }

        function timeToMinutes(timeStr) {

            const [hours, minutes] = timeStr.split(':').map(Number);

            return hours * 60 + minutes;

        }

        function minutesToTime(minutes) {

            const hours = Math.floor(minutes / 60);

            const mins = minutes % 60;

            return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`;

        }

        // Date and Time Manager functions

        let dateTimeCurrentDate = new Date();

        let dateTimeSelectedDate = null;

        function showDateTimeManager() {

            document.getElementById('dateTimeManagerModal').classList.remove('hidden');

            loadDateTimeCalendar();

        }

        function closeDateTimeManager() {

            document.getElementById('dateTimeManagerModal').classList.add('hidden');

        }

        function loadDateTimeCalendar() {

            const grid = document.getElementById('dateTimeCalendarGrid');

            const monthElement = document.getElementById('dateTimeCurrentMonth');

            

            const months = [

                'Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho',

                'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'

            ];

            

            monthElement.textContent = `${months[dateTimeCurrentDate.getMonth()]} ${dateTimeCurrentDate.getFullYear()}`;

            

            const firstDay = new Date(dateTimeCurrentDate.getFullYear(), dateTimeCurrentDate.getMonth(), 1);

            const lastDay = new Date(dateTimeCurrentDate.getFullYear(), dateTimeCurrentDate.getMonth() + 1, 0);

            const startDate = new Date(firstDay);

            startDate.setDate(startDate.getDate() - firstDay.getDay());

            

            grid.innerHTML = '';

            

            for (let i = 0; i < 42; i++) {

                const cellDate = new Date(startDate);

                cellDate.setDate(startDate.getDate() + i);

                

                const isCurrentMonth = cellDate.getMonth() === dateTimeCurrentDate.getMonth();

                const isToday = cellDate.toDateString() === new Date().toDateString();

                const isSelected = dateTimeSelectedDate && cellDate.toDateString() === dateTimeSelectedDate.toDateString();

                const hasAppointments = [15, 16, 17].includes(cellDate.getDate()) && isCurrentMonth;

                const dateKey = cellDate.toISOString().split('T')[0];

                const isUnavailable = unavailableDates.has(dateKey);

                

                const cell = document.createElement('div');

                cell.className = `calendar-day p-2 text-center text-sm rounded-lg ${

                    !isCurrentMonth ? 'text-gray-400' : 'text-gray-800'

                } ${isToday ? 'today text-white' : ''} ${

                    isSelected ? 'ring-2 ring-pink-500' : ''

                } ${hasAppointments ? 'has-appointments' : ''} ${

                    isUnavailable ? 'bg-red-100 text-red-600 line-through' : ''

                }`;

                

                cell.textContent = cellDate.getDate();

                cell.onclick = () => selectDateTimeDate(cellDate);

                

                grid.appendChild(cell);

            }

        }

        function selectDateTimeDate(date) {

            dateTimeSelectedDate = new Date(date);

            loadDateTimeCalendar();

            loadDateTimeManagement();

            

            const options = { 

                weekday: 'long', 

                year: 'numeric', 

                month: 'long', 

                day: 'numeric' 

            };

            document.getElementById('dateTimeSelectedDate').textContent = date.toLocaleDateString('pt-BR', options);

        }

        function loadDateTimeManagement() {

            const dateKey = dateTimeSelectedDate.toISOString().split('T')[0];

            const isUnavailable = unavailableDates.has(dateKey);

            const unavailableTimesForDate = unavailableTimes[dateKey] || new Set();

            const times = generateTimeSlots();

            

            const content = document.getElementById('dateTimeManagementContent');

            

            content.innerHTML = `

                <div class="space-y-4">

                    <!-- Day Availability Toggle -->

                    <div class="bg-gray-50 rounded-lg p-4">

                        <h5 class="font-semibold text-gray-800 mb-3">Status do Dia</h5>

                        <button onclick="toggleDateTimeAvailability()" class="w-full ${

                            isUnavailable 

                                ? 'bg-green-500 hover:bg-green-600' 

                                : 'bg-red-500 hover:bg-red-600'

                        } text-white py-2 rounded-lg text-sm font-medium transition-colors">

                            <i class="fas ${isUnavailable ? 'fa-check' : 'fa-ban'} mr-2"></i>

                            ${isUnavailable ? 'Marcar como Dispon√≠vel' : 'Marcar como Indispon√≠vel'}

                        </button>

                    </div>

                    

                    ${!isUnavailable ? `

                        <!-- Working Hours Configuration -->

                        <div class="bg-gray-50 rounded-lg p-4">

                            <h5 class="font-semibold text-gray-800 mb-3">Configura√ß√µes de Hor√°rio</h5>

                            <div class="space-y-3">

                                <div>

                                    <label class="block text-sm font-medium text-gray-700 mb-2">Hor√°rio de Funcionamento</label>

                                    <div class="grid grid-cols-2 gap-2">

                                        <input type="time" id="dateTimeWorkStart" value="${workingHours.start}" class="border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                        <input type="time" id="dateTimeWorkEnd" value="${workingHours.end}" class="border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                    </div>

                                </div>

                                

                                <div>

                                    <label class="block text-sm font-medium text-gray-700 mb-2">Hor√°rio de Almo√ßo</label>

                                    <div class="grid grid-cols-2 gap-2">

                                        <input type="time" id="dateTimeLunchStart" value="${workingHours.lunchStart}" class="border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                        <input type="time" id="dateTimeLunchEnd" value="${workingHours.lunchEnd}" class="border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                    </div>

                                </div>

                                

                                <button onclick="saveDateTimeSettings()" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg text-sm font-medium transition-colors">

                                    <i class="fas fa-save mr-2"></i>Salvar Configura√ß√µes de Hor√°rio

                                </button>

                            </div>

                        </div>

                        

                        <!-- Time Slots Management -->

                        <div class="bg-gray-50 rounded-lg p-4">

                            <h5 class="font-semibold text-gray-800 mb-3">Gerenciar Hor√°rios Espec√≠ficos</h5>

                            <div class="grid grid-cols-2 gap-2 max-h-60 overflow-y-auto">

                                ${times.map(time => `

                                    <button onclick="toggleDateTimeSlot('${time}')" class="text-xs px-2 py-2 rounded transition-colors ${

                                        unavailableTimesForDate.has(time)

                                            ? 'bg-red-100 text-red-700 hover:bg-red-200'

                                            : 'bg-green-100 text-green-700 hover:bg-green-200'

                                    }">

                                        ${time} ${unavailableTimesForDate.has(time) ? '‚ùå' : '‚úÖ'}

                                    </button>

                                `).join('')}

                            </div>

                            <p class="text-xs text-gray-600 mt-2">

                                ‚úÖ = Dispon√≠vel | ‚ùå = Bloqueado

                            </p>

                        </div>

                    ` : '<div class="bg-red-50 rounded-lg p-4 text-center"><p class="text-red-600 text-sm">Dia marcado como indispon√≠vel</p></div>'}

                </div>

            `;

        }

        function toggleDateTimeAvailability() {

            const dateKey = dateTimeSelectedDate.toISOString().split('T')[0];

            

            if (unavailableDates.has(dateKey)) {

                unavailableDates.delete(dateKey);

                delete unavailableTimes[dateKey];

            } else {

                unavailableDates.add(dateKey);

            }

            

            loadDateTimeCalendar();

            loadDateTimeManagement();

            loadCalendar(); // Update main calendar

            updateDayAvailabilityButton();

            loadAvailableTimes();

        }

        function toggleDateTimeSlot(time) {

            const dateKey = dateTimeSelectedDate.toISOString().split('T')[0];

            

            if (!unavailableTimes[dateKey]) {

                unavailableTimes[dateKey] = new Set();

            }

            

            if (unavailableTimes[dateKey].has(time)) {

                unavailableTimes[dateKey].delete(time);

            } else {

                unavailableTimes[dateKey].add(time);

            }

            

            loadDateTimeCalendar();

            loadDateTimeManagement();

            loadCalendar(); // Update main calendar

            loadAvailableTimes();

        }

        function saveDateTimeSettings() {

            // Update working hours for the selected date or globally

            workingHours.start = document.getElementById('dateTimeWorkStart').value;

            workingHours.end = document.getElementById('dateTimeWorkEnd').value;

            workingHours.lunchStart = document.getElementById('dateTimeLunchStart').value;

            workingHours.lunchEnd = document.getElementById('dateTimeLunchEnd').value;

            

            loadDateTimeManagement();

            loadCalendar();

            loadAvailableTimes();

            

            alert('Configura√ß√µes de hor√°rio salvas com sucesso! ‚è∞');

        }

        function previousDateTimeMonth() {

            dateTimeCurrentDate.setMonth(dateTimeCurrentDate.getMonth() - 1);

            loadDateTimeCalendar();

        }

        function nextDateTimeMonth() {

            dateTimeCurrentDate.setMonth(dateTimeCurrentDate.getMonth() + 1);

            loadDateTimeCalendar();

        }

        function generateTimeSlotsList() {

            const dateKey = selectedDate.toISOString().split('T')[0];

            const timeSlotsList = document.getElementById('timeSlotsList');

            const times = generateTimeSlots();

            const unavailableTimesForDate = unavailableTimes[dateKey] || new Set();

            

            timeSlotsList.innerHTML = '';

            

            times.forEach(time => {

                const isUnavailable = unavailableTimesForDate.has(time);

                const div = document.createElement('div');

                div.className = 'flex items-center justify-between p-2 border rounded';

                

                div.innerHTML = `

                    <span class="text-sm ${isUnavailable ? 'text-red-600' : 'text-gray-800'}">${time}</span>

                    <button onclick="toggleTimeSlot('${time}')" class="text-xs px-2 py-1 rounded ${

                        isUnavailable 

                            ? 'bg-green-100 text-green-700 hover:bg-green-200' 

                            : 'bg-red-100 text-red-700 hover:bg-red-200'

                    }">

                        ${isUnavailable ? 'Disponibilizar' : 'Bloquear'}

                    </button>

                `;

                

                timeSlotsList.appendChild(div);

            });

        }

        function toggleTimeSlot(time) {

            const dateKey = selectedDate.toISOString().split('T')[0];

            

            if (!unavailableTimes[dateKey]) {

                unavailableTimes[dateKey] = new Set();

            }

            

            if (unavailableTimes[dateKey].has(time)) {

                unavailableTimes[dateKey].delete(time);

            } else {

                unavailableTimes[dateKey].add(time);

            }

            

            generateTimeSlotsList();

        }

        function saveTimeSettings() {

            // Update working hours

            workingHours.start = document.getElementById('workStart').value;

            workingHours.end = document.getElementById('workEnd').value;

            workingHours.lunchStart = document.getElementById('lunchStart').value;

            workingHours.lunchEnd = document.getElementById('lunchEnd').value;

            

            closeTimeManager();

            loadAvailableTimes();

            alert('Configura√ß√µes de hor√°rio salvas com sucesso! ‚è∞');

        }

        function previousMonth() {

            currentDate.setMonth(currentDate.getMonth() - 1);

            loadCalendar();

        }

        function nextMonth() {

            currentDate.setMonth(currentDate.getMonth() + 1);

            loadCalendar();

        }

        // ChatBot functions

        function selectIcon(iconClass) {

            chatBotConfig.icon = iconClass;

            

            // Update icon buttons

            document.querySelectorAll('.icon-btn').forEach(btn => {

                btn.classList.remove('border-pink-500', 'bg-pink-50');

                btn.classList.add('border-gray-300');

            });

            

            event.target.closest('.icon-btn').classList.add('border-pink-500', 'bg-pink-50');

            event.target.closest('.icon-btn').classList.remove('border-gray-300');

            

            updateChatBot();

        }

        function selectColor(colorClass) {

            chatBotConfig.color = colorClass;

            

            // Update color buttons

            document.querySelectorAll('.color-btn').forEach(btn => {

                btn.classList.remove('border-4', 'border-pink-300');

                btn.classList.add('border-2', 'border-gray-300');

            });

            

            event.target.classList.add('border-4', 'border-pink-300');

            event.target.classList.remove('border-2', 'border-gray-300');

            

            updateChatBot();

        }

        function updateChatBot() {

            const clinicName = document.getElementById('clinicName').value;

            const welcomeMessage = document.getElementById('welcomeMessage').value;

            

            chatBotConfig.clinicName = clinicName;

            chatBotConfig.welcomeMessage = welcomeMessage;

            

            // Update preview

            document.getElementById('previewClinicName').textContent = clinicName;

            document.getElementById('previewMessage').textContent = welcomeMessage;

            document.getElementById('previewIcon').innerHTML = `<i class="${chatBotConfig.icon} text-white text-xs"></i>`;

            document.getElementById('previewIcon').className = `w-8 h-8 bg-gradient-to-r ${chatBotConfig.color} rounded-full flex items-center justify-center flex-shrink-0`;

            

            // Update chat simulator

            document.getElementById('chatTitle').textContent = clinicName;

            document.getElementById('initialMessage').textContent = welcomeMessage;

            document.getElementById('chatIcon').innerHTML = `<i class="${chatBotConfig.icon}"></i>`;

            document.getElementById('chatHeader').className = `bg-gradient-to-r ${chatBotConfig.color} p-4 text-white`;

        }

        function sendMessage(message) {

            const input = document.getElementById('chatInput');

            const messagesContainer = document.getElementById('chatMessages');

            

            if (!message) {

                message = input.value.trim();

                if (!message) return;

                input.value = '';

            }

            

            // Add user message

            const userMessage = document.createElement('div');

            userMessage.className = 'chat-message flex justify-end';

            userMessage.innerHTML = `

                <div class="bg-pink-500 text-white rounded-lg p-3 max-w-xs">

                    <p class="text-sm">${message}</p>

                </div>

            `;

            messagesContainer.appendChild(userMessage);

            

            // Simulate bot response

            setTimeout(() => {

                const botMessage = document.createElement('div');

                botMessage.className = 'chat-message';

                

                let response = '';

                let showScheduling = false;

                

                if (message.toLowerCase().includes('procedimento')) {

                    response = 'Temos diversos procedimentos dispon√≠veis! Nossos principais s√£o: Botox Facial (R$ 800), Preenchimento Labial (R$ 1.200) e Limpeza de Pele (R$ 150). Qual te interessa mais?';

                } else if (message.toLowerCase().includes('agendar')) {

                    response = 'Perfeito! Vou abrir nossa agenda para voc√™ escolher o melhor hor√°rio. Selecione o procedimento desejado:';

                    showScheduling = true;

                } else if (message.toLowerCase().includes('pre√ßo')) {

                    response = 'Nossos pre√ßos variam conforme o procedimento:\n‚Ä¢ Botox Facial: R$ 800\n‚Ä¢ Preenchimento Labial: R$ 1.200\n‚Ä¢ Limpeza de Pele: R$ 150\n‚Ä¢ Peeling Qu√≠mico: R$ 300\n\nAceitamos cart√£o, PIX e parcelamento!';

                } else if (message.toLowerCase().includes('localiza√ß√£o') || message.toLowerCase().includes('endere√ßo')) {

                    response = 'Estamos localizados na Rua das Flores, 123 - Centro, S√£o Paulo - SP. Nosso telefone √© (11) 99999-9999. Funcionamos de segunda a sexta das 8h √†s 18h e s√°bados das 8h √†s 16h.';

                } else {

                    response = 'Obrigado pela sua mensagem! Como posso ajud√°-lo hoje? Posso falar sobre nossos procedimentos, agendar uma consulta ou esclarecer d√∫vidas sobre pre√ßos e localiza√ß√£o.';

                }

                

                let botContent = `

                    <div class="flex items-start space-x-2">

                        <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0">

                            <i class="fas fa-robot text-white text-xs"></i>

                        </div>

                        <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                            <p class="text-sm text-gray-800">${response}</p>

                            ${showScheduling ? `

                                <div class="mt-3 space-y-2">

                                    <button onclick="selectProcedureForScheduling('Botox Facial', 800)" class="w-full text-left text-sm bg-pink-50 hover:bg-pink-100 text-pink-700 px-3 py-2 rounded-lg transition-colors">

                                        üíâ Botox Facial - R$ 800

                                    </button>

                                    <button onclick="selectProcedureForScheduling('Preenchimento Labial', 1200)" class="w-full text-left text-sm bg-purple-50 hover:bg-purple-100 text-purple-700 px-3 py-2 rounded-lg transition-colors">

                                        üíã Preenchimento Labial - R$ 1.200

                                    </button>

                                    <button onclick="selectProcedureForScheduling('Limpeza de Pele', 150)" class="w-full text-left text-sm bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg transition-colors">

                                        üß¥ Limpeza de Pele - R$ 150

                                    </button>

                                </div>

                            ` : ''}

                        </div>

                    </div>

                `;

                

                botMessage.innerHTML = botContent;

                messagesContainer.appendChild(botMessage);

                messagesContainer.scrollTop = messagesContainer.scrollHeight;

            }, 1000);

            

            messagesContainer.scrollTop = messagesContainer.scrollHeight;

        }

        function saveChatBotConfig() {

            alert('Configura√ß√µes do ChatBot salvas com sucesso! ‚úÖ');

        }

        // Availability Manager functions

        let availabilityCurrentDate = new Date();

        let availabilitySelectedDate = null;

        let workingDays = [1, 2, 3, 4, 5]; // Monday to Friday by default

        function openAvailabilityManager() {

            document.getElementById('availabilityManagerModal').classList.remove('hidden');

            showAvailabilityTab('schedule');

            loadAvailabilityCalendar();

        }

        function closeAvailabilityManager() {

            document.getElementById('availabilityManagerModal').classList.add('hidden');

        }

        function showAvailabilityTab(tabName) {

            // Hide all tabs

            document.querySelectorAll('.availability-content').forEach(content => {

                content.classList.add('hidden');

            });

            

            // Remove active class from all tabs

            document.querySelectorAll('.availability-tab').forEach(tab => {

                tab.classList.remove('text-pink-600', 'border-b-2', 'border-pink-600');

                tab.classList.add('text-gray-600');

            });

            

            // Show selected tab

            document.getElementById(tabName + 'TabContent').classList.remove('hidden');

            document.getElementById(tabName + 'Tab').classList.add('text-pink-600', 'border-b-2', 'border-pink-600');

            document.getElementById(tabName + 'Tab').classList.remove('text-gray-600');

            

            if (tabName === 'calendar') {

                loadAvailabilityCalendar();

            }

        }

        function loadAvailabilityCalendar() {

            const grid = document.getElementById('availabilityCalendarGrid');

            const monthElement = document.getElementById('availabilityCurrentMonth');

            

            const months = [

                'Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho',

                'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'

            ];

            

            monthElement.textContent = `${months[availabilityCurrentDate.getMonth()]} ${availabilityCurrentDate.getFullYear()}`;

            

            const firstDay = new Date(availabilityCurrentDate.getFullYear(), availabilityCurrentDate.getMonth(), 1);

            const lastDay = new Date(availabilityCurrentDate.getFullYear(), availabilityCurrentDate.getMonth() + 1, 0);

            const startDate = new Date(firstDay);

            startDate.setDate(startDate.getDate() - firstDay.getDay());

            

            grid.innerHTML = '';

            

            for (let i = 0; i < 42; i++) {

                const cellDate = new Date(startDate);

                cellDate.setDate(startDate.getDate() + i);

                

                const isCurrentMonth = cellDate.getMonth() === availabilityCurrentDate.getMonth();

                const isToday = cellDate.toDateString() === new Date().toDateString();

                const isSelected = availabilitySelectedDate && cellDate.toDateString() === availabilitySelectedDate.toDateString();

                const dateKey = cellDate.toISOString().split('T')[0];

                const isUnavailable = unavailableDates.has(dateKey);

                const isWorkingDay = workingDays.includes(cellDate.getDay());

                const hasPartialAvailability = unavailableTimes[dateKey] && unavailableTimes[dateKey].size > 0;

                

                // Use the same styling as main calendar

                const cell = document.createElement('div');

                cell.className = `calendar-day p-2 text-center text-sm rounded-lg ${

                    !isCurrentMonth ? 'text-gray-400' : 'text-gray-800'

                } ${isToday ? 'today text-white' : ''} ${

                    isSelected ? 'ring-2 ring-pink-500' : ''

                }`;

                

                // Apply background colors based on availability

                if (isUnavailable) {

                    cell.classList.add('bg-red-100', 'text-red-600');

                } else if (hasPartialAvailability) {

                    cell.classList.add('bg-yellow-200', 'border-2', 'border-yellow-500');

                } else if (isWorkingDay && isCurrentMonth && !isToday) {

                    cell.classList.add('bg-gray-100');

                }

                

                cell.textContent = cellDate.getDate();

                cell.onclick = () => selectAvailabilityDate(cellDate);

                

                grid.appendChild(cell);

            }

        }

        function selectAvailabilityDate(date) {

            availabilitySelectedDate = new Date(date);

            loadAvailabilityCalendar();

            loadDayManagement();

            

            const options = { 

                weekday: 'long', 

                year: 'numeric', 

                month: 'long', 

                day: 'numeric' 

            };

            document.getElementById('selectedDateDisplay').textContent = date.toLocaleDateString('pt-BR', options);

        }

        function loadDayManagement() {

            const dateKey = availabilitySelectedDate.toISOString().split('T')[0];

            const isUnavailable = unavailableDates.has(dateKey);

            const unavailableTimesForDate = unavailableTimes[dateKey] || new Set();

            const times = generateTimeSlots();

            

            const content = document.getElementById('dayManagementContent');

            

            content.innerHTML = `

                <div class="space-y-4">

                    <div class="flex space-x-2">

                        <button onclick="toggleDayAvailabilityInModal()" class="flex-1 ${

                            isUnavailable 

                                ? 'bg-green-500 hover:bg-green-600' 

                                : 'bg-red-500 hover:bg-red-600'

                        } text-white py-2 rounded-lg text-sm font-medium transition-colors">

                            <i class="fas ${isUnavailable ? 'fa-check' : 'fa-ban'} mr-2"></i>

                            ${isUnavailable ? 'Marcar como Dispon√≠vel' : 'Marcar como Indispon√≠vel'}

                        </button>

                    </div>

                    

                    ${!isUnavailable ? `

                        <div>

                            <h5 class="font-semibold text-gray-800 mb-2">Hor√°rios do Dia</h5>

                            <div class="grid grid-cols-2 gap-2 max-h-40 overflow-y-auto">

                                ${times.map(time => `

                                    <button onclick="toggleTimeInModal('${time}')" class="text-xs px-2 py-1 rounded transition-colors ${

                                        unavailableTimesForDate.has(time)

                                            ? 'bg-red-100 text-red-700 hover:bg-red-200'

                                            : 'bg-green-100 text-green-700 hover:bg-green-200'

                                    }">

                                        ${time} ${unavailableTimesForDate.has(time) ? '‚ùå' : '‚úÖ'}

                                    </button>

                                `).join('')}

                            </div>

                        </div>

                    ` : '<p class="text-red-600 text-sm text-center py-4">Dia marcado como indispon√≠vel</p>'}

                </div>

            `;

        }

        function toggleDayAvailabilityInModal() {

            const dateKey = availabilitySelectedDate.toISOString().split('T')[0];

            

            if (unavailableDates.has(dateKey)) {

                unavailableDates.delete(dateKey);

                delete unavailableTimes[dateKey];

            } else {

                unavailableDates.add(dateKey);

            }

            

            loadAvailabilityCalendar();

            loadDayManagement();

            loadCalendar(); // Update main calendar

            updateDayAvailabilityButton();

            loadAvailableTimes();

        }

        function toggleTimeInModal(time) {

            const dateKey = availabilitySelectedDate.toISOString().split('T')[0];

            

            if (!unavailableTimes[dateKey]) {

                unavailableTimes[dateKey] = new Set();

            }

            

            if (unavailableTimes[dateKey].has(time)) {

                unavailableTimes[dateKey].delete(time);

            } else {

                unavailableTimes[dateKey].add(time);

            }

            

            loadAvailabilityCalendar();

            loadDayManagement();

            loadCalendar(); // Update main calendar

            loadAvailableTimes();

        }

        function previousAvailabilityMonth() {

            availabilityCurrentDate.setMonth(availabilityCurrentDate.getMonth() - 1);

            loadAvailabilityCalendar();

        }

        function nextAvailabilityMonth() {

            availabilityCurrentDate.setMonth(availabilityCurrentDate.getMonth() + 1);

            loadAvailabilityCalendar();

        }

        function saveGlobalSettings() {

            // Update working hours

            workingHours.start = document.getElementById('globalWorkStart').value;

            workingHours.end = document.getElementById('globalWorkEnd').value;

            workingHours.lunchStart = document.getElementById('globalLunchStart').value;

            workingHours.lunchEnd = document.getElementById('globalLunchEnd').value;

            workingHours.interval = parseInt(document.getElementById('appointmentDuration').value);

            

            // Update working days

            workingDays = [];

            if (document.getElementById('workMonday').checked) workingDays.push(1);

            if (document.getElementById('workTuesday').checked) workingDays.push(2);

            if (document.getElementById('workWednesday').checked) workingDays.push(3);

            if (document.getElementById('workThursday').checked) workingDays.push(4);

            if (document.getElementById('workFriday').checked) workingDays.push(5);

            if (document.getElementById('workSaturday').checked) workingDays.push(6);

            if (document.getElementById('workSunday').checked) workingDays.push(0);

            

            loadAvailabilityCalendar();

            loadCalendar();

            loadAvailableTimes();

            

            alert('Configura√ß√µes globais salvas com sucesso! ‚öôÔ∏è');

        }

        function bulkMarkUnavailable() {

            const startDate = document.getElementById('bulkStartDate').value;

            const endDate = document.getElementById('bulkEndDate').value;

            

            if (!startDate || !endDate) {

                alert('Por favor, selecione as datas de in√≠cio e fim!');

                return;

            }

            

            const start = new Date(startDate);

            const end = new Date(endDate);

            

            for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {

                const dateKey = d.toISOString().split('T')[0];

                unavailableDates.add(dateKey);

            }

            

            loadAvailabilityCalendar();

            loadCalendar();

            alert('Per√≠odo marcado como indispon√≠vel! üö´');

        }

        function bulkMarkAvailable() {

            const startDate = document.getElementById('bulkStartDate').value;

            const endDate = document.getElementById('bulkEndDate').value;

            

            if (!startDate || !endDate) {

                alert('Por favor, selecione as datas de in√≠cio e fim!');

                return;

            }

            

            const start = new Date(startDate);

            const end = new Date(endDate);

            

            for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {

                const dateKey = d.toISOString().split('T')[0];

                unavailableDates.delete(dateKey);

                delete unavailableTimes[dateKey];

            }

            

            loadAvailabilityCalendar();

            loadCalendar();

            alert('Per√≠odo marcado como dispon√≠vel! ‚úÖ');

        }

        function bulkWeekdayUnavailable() {

            const selectedWeekdays = Array.from(document.querySelectorAll('.bulk-weekday:checked')).map(cb => parseInt(cb.value));

            

            if (selectedWeekdays.length === 0) {

                alert('Por favor, selecione pelo menos um dia da semana!');

                return;

            }

            

            // Mark next 3 months of selected weekdays as unavailable

            const today = new Date();

            const endDate = new Date(today);

            endDate.setMonth(endDate.getMonth() + 3);

            

            for (let d = new Date(today); d <= endDate; d.setDate(d.getDate() + 1)) {

                if (selectedWeekdays.includes(d.getDay())) {

                    const dateKey = d.toISOString().split('T')[0];

                    unavailableDates.add(dateKey);

                }

            }

            

            loadAvailabilityCalendar();

            loadCalendar();

            alert('Dias da semana marcados como indispon√≠veis! üö´');

        }

        function bulkWeekdayAvailable() {

            const selectedWeekdays = Array.from(document.querySelectorAll('.bulk-weekday:checked')).map(cb => parseInt(cb.value));

            

            if (selectedWeekdays.length === 0) {

                alert('Por favor, selecione pelo menos um dia da semana!');

                return;

            }

            

            // Mark next 3 months of selected weekdays as available

            const today = new Date();

            const endDate = new Date(today);

            endDate.setMonth(endDate.getMonth() + 3);

            

            for (let d = new Date(today); d <= endDate; d.setDate(d.getDate() + 1)) {

                if (selectedWeekdays.includes(d.getDay())) {

                    const dateKey = d.toISOString().split('T')[0];

                    unavailableDates.delete(dateKey);

                    delete unavailableTimes[dateKey];

                }

            }

            

            loadAvailabilityCalendar();

            loadCalendar();

            alert('Dias da semana marcados como dispon√≠veis! ‚úÖ');

        }

        // Appointment functions

        function openAppointmentModal() {

            alert('Modal de agendamento em desenvolvimento! üìÖ');

        }

        function scheduleAppointment(time) {

            alert(`Agendamento para ${time} em desenvolvimento! üìÖ`);

        }

        function sendReminders() {

            alert('Lembretes enviados com sucesso! üì±');

        }

        // Procedure functions

        function openProcedureModal() {

            alert('Modal de procedimentos em desenvolvimento! üíâ');

        }

        function editProcedure(id) {

            alert(`Editar procedimento ${id} em desenvolvimento! ‚úèÔ∏è`);

        }

        function deleteProcedure(id) {

            if (confirm('Tem certeza que deseja excluir este procedimento?')) {

                alert(`Procedimento ${id} exclu√≠do! üóëÔ∏è`);

            }

        }

        // Settings functions

        function saveSettings() {

            alert('Configura√ß√µes salvas com sucesso! ‚öôÔ∏è');

        }

        // Links functions

        function generateLink() {

            alert('Link gerado com sucesso! üîó');

        }

        function copyLink(button) {

            const link = button.closest('.border').querySelector('p').textContent;

            navigator.clipboard.writeText(link).then(() => {

                const icon = button.querySelector('i');

                icon.className = 'fas fa-check';

                setTimeout(() => {

                    icon.className = 'fas fa-copy';

                }, 2000);

            });

        }

        // Scheduling variables

        let schedulingData = {

            procedure: '',

            price: 0,

            date: '',

            time: '',

            clientName: '',

            clientPhone: ''

        };

        // Scheduling functions

        function selectProcedureForScheduling(procedure, price) {

            schedulingData.procedure = procedure;

            schedulingData.price = price;

            

            const messagesContainer = document.getElementById('chatMessages');

            

            // Add user selection message

            const userMessage = document.createElement('div');

            userMessage.className = 'chat-message flex justify-end';

            userMessage.innerHTML = `

                <div class="bg-pink-500 text-white rounded-lg p-3 max-w-xs">

                    <p class="text-sm">${procedure} - R$ ${price}</p>

                </div>

            `;

            messagesContainer.appendChild(userMessage);

            

            // Show calendar

            setTimeout(() => {

                const botMessage = document.createElement('div');

                botMessage.className = 'chat-message';

                botMessage.innerHTML = `

                    <div class="flex items-start space-x-2">

                        <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0">

                            <i class="fas fa-robot text-white text-xs"></i>

                        </div>

                        <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                            <p class="text-sm text-gray-800 mb-3">√ìtima escolha! Agora selecione uma data dispon√≠vel:</p>

                            <div class="mini-calendar">

                                <div class="text-center font-semibold mb-2 text-gray-800">Janeiro 2024</div>

                                <div class="grid grid-cols-7 gap-1 text-xs">

                                    <div class="text-center text-gray-500 p-1">D</div>

                                    <div class="text-center text-gray-500 p-1">S</div>

                                    <div class="text-center text-gray-500 p-1">T</div>

                                    <div class="text-center text-gray-500 p-1">Q</div>

                                    <div class="text-center text-gray-500 p-1">Q</div>

                                    <div class="text-center text-gray-500 p-1">S</div>

                                    <div class="text-center text-gray-500 p-1">S</div>

                                    ${generateMiniCalendarDays()}

                                </div>

                            </div>

                        </div>

                    </div>

                `;

                messagesContainer.appendChild(botMessage);

                messagesContainer.scrollTop = messagesContainer.scrollHeight;

            }, 1000);

            

            messagesContainer.scrollTop = messagesContainer.scrollHeight;

        }

        function generateMiniCalendarDays() {

            let days = '';

            const today = new Date();

            const currentMonth = today.getMonth();

            const currentYear = today.getFullYear();

            

            // Get first day of month and number of days

            const firstDay = new Date(currentYear, currentMonth, 1).getDay();

            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

            

            // Add empty cells for days before month starts

            for (let i = 0; i < firstDay; i++) {

                days += '<div class="p-1"></div>';

            }

            

            // Add days of month

            for (let day = 1; day <= daysInMonth; day++) {

                const date = new Date(currentYear, currentMonth, day);

                const dateKey = date.toISOString().split('T')[0];

                const isToday = date.toDateString() === today.toDateString();

                const isPast = date < today;

                const isUnavailable = unavailableDates.has(dateKey);

                const isWorkingDay = workingDays.includes(date.getDay());

                const hasAvailableTimes = checkAvailableTimesForDate(dateKey);

                

                const isAvailable = !isPast && isWorkingDay && !isUnavailable && hasAvailableTimes;

                

                if (isAvailable) {

                    days += `<button onclick="selectDateForScheduling('${dateKey}')" class="p-1 text-center hover:bg-pink-100 rounded text-pink-600 font-semibold cursor-pointer">${day}</button>`;

                } else {

                    days += `<div class="p-1 text-center text-gray-300">${day}</div>`;

                }

            }

            

            return days;

        }

        function checkAvailableTimesForDate(dateKey) {

            const times = generateTimeSlots();

            const unavailableTimesForDate = unavailableTimes[dateKey] || new Set();

            

            // Check if there's at least one available time

            return times.some(time => !unavailableTimesForDate.has(time));

        }

        function selectDateForScheduling(dateString) {

            schedulingData.date = dateString;

            const date = new Date(dateString);

            const formattedDate = date.toLocaleDateString('pt-BR');

            

            const messagesContainer = document.getElementById('chatMessages');

            

            // Add user selection message

            const userMessage = document.createElement('div');

            userMessage.className = 'chat-message flex justify-end';

            userMessage.innerHTML = `

                <div class="bg-pink-500 text-white rounded-lg p-3 max-w-xs">

                    <p class="text-sm">${formattedDate}</p>

                </div>

            `;

            messagesContainer.appendChild(userMessage);

            

            // Show available times for selected date

            setTimeout(() => {

                const availableTimes = getAvailableTimesForDate(dateString);

                

                if (availableTimes.length === 0) {

                    const botMessage = document.createElement('div');

                    botMessage.className = 'chat-message';

                    botMessage.innerHTML = `

                        <div class="flex items-start space-x-2">

                            <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0">

                                <i class="fas fa-robot text-white text-xs"></i>

                            </div>

                            <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                                <p class="text-sm text-gray-800">Desculpe, n√£o h√° hor√°rios dispon√≠veis para ${formattedDate}. Por favor, escolha outra data.</p>

                            </div>

                        </div>

                    `;

                    messagesContainer.appendChild(botMessage);

                } else {

                    const botMessage = document.createElement('div');

                    botMessage.className = 'chat-message';

                    

                    let timeButtons = '';

                    availableTimes.forEach(time => {

                        timeButtons += `<button onclick="selectTime('${time}')" class="bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors">${time}</button>`;

                    });

                    

                    botMessage.innerHTML = `

                        <div class="flex items-start space-x-2">

                            <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0">

                                <i class="fas fa-robot text-white text-xs"></i>

                            </div>

                            <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                                <p class="text-sm text-gray-800 mb-3">Perfeito! Agora escolha um hor√°rio dispon√≠vel para ${formattedDate}:</p>

                                <div class="grid grid-cols-2 gap-2">

                                    ${timeButtons}

                                </div>

                            </div>

                        </div>

                    `;

                    messagesContainer.appendChild(botMessage);

                }

                

                messagesContainer.scrollTop = messagesContainer.scrollHeight;

            }, 1000);

            

            messagesContainer.scrollTop = messagesContainer.scrollHeight;

        }

        function getAvailableTimesForDate(dateKey) {

            const times = generateTimeSlots();

            const unavailableTimesForDate = unavailableTimes[dateKey] || new Set();

            

            return times.filter(time => !unavailableTimesForDate.has(time));

        }

        function selectDate(dateString) {

            schedulingData.date = dateString;

            const date = new Date(dateString);

            const formattedDate = date.toLocaleDateString('pt-BR');

            

            const messagesContainer = document.getElementById('chatMessages');

            

            // Add user selection message

            const userMessage = document.createElement('div');

            userMessage.className = 'chat-message flex justify-end';

            userMessage.innerHTML = `

                <div class="bg-pink-500 text-white rounded-lg p-3 max-w-xs">

                    <p class="text-sm">${formattedDate}</p>

                </div>

            `;

            messagesContainer.appendChild(userMessage);

            

            // Show available times

            setTimeout(() => {

                const botMessage = document.createElement('div');

                botMessage.className = 'chat-message';

                botMessage.innerHTML = `

                    <div class="flex items-start space-x-2">

                        <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0">

                            <i class="fas fa-robot text-white text-xs"></i>

                        </div>

                        <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                            <p class="text-sm text-gray-800 mb-3">Perfeito! Agora escolha um hor√°rio dispon√≠vel para ${formattedDate}:</p>

                            <div class="grid grid-cols-2 gap-2">

                                <button onclick="selectTime('09:00')" class="bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors">09:00</button>

                                <button onclick="selectTime('10:30')" class="bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors">10:30</button>

                                <button onclick="selectTime('14:00')" class="bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors">14:00</button>

                                <button onclick="selectTime('15:30')" class="bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors">15:30</button>

                                <button onclick="selectTime('16:00')" class="bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors">16:00</button>

                                <button onclick="selectTime('17:00')" class="bg-green-50 hover:bg-green-100 text-green-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors">17:00</button>

                            </div>

                        </div>

                    </div>

                `;

                messagesContainer.appendChild(botMessage);

                messagesContainer.scrollTop = messagesContainer.scrollHeight;

            }, 1000);

            

            messagesContainer.scrollTop = messagesContainer.scrollHeight;

        }

        function selectTime(time) {

            schedulingData.time = time;

            

            const messagesContainer = document.getElementById('chatMessages');

            

            // Add user selection message

            const userMessage = document.createElement('div');

            userMessage.className = 'chat-message flex justify-end';

            userMessage.innerHTML = `

                <div class="bg-pink-500 text-white rounded-lg p-3 max-w-xs">

                    <p class="text-sm">${time}</p>

                </div>

            `;

            messagesContainer.appendChild(userMessage);

            

            // Ask for client information

            setTimeout(() => {

                const botMessage = document.createElement('div');

                botMessage.className = 'chat-message';

                botMessage.innerHTML = `

                    <div class="flex items-start space-x-2">

                        <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0">

                            <i class="fas fa-robot text-white text-xs"></i>

                        </div>

                        <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                            <p class="text-sm text-gray-800 mb-3">Excelente! Para finalizar o agendamento, preciso de algumas informa√ß√µes:</p>

                            <div class="space-y-3">

                                <div>

                                    <label class="block text-xs font-medium text-gray-700 mb-1">Nome completo:</label>

                                    <input type="text" id="clientName" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                </div>

                                <div>

                                    <label class="block text-xs font-medium text-gray-700 mb-1">WhatsApp:</label>

                                    <input type="text" id="clientPhone" placeholder="(11) 99999-9999" class="w-full border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500">

                                </div>

                                <button onclick="finalizeScheduling()" class="w-full bg-pink-500 hover:bg-pink-600 text-white py-2 rounded-lg text-sm font-medium transition-colors">

                                    Confirmar Agendamento

                                </button>

                            </div>

                        </div>

                    </div>

                `;

                messagesContainer.appendChild(botMessage);

                messagesContainer.scrollTop = messagesContainer.scrollHeight;

            }, 1000);

            

            messagesContainer.scrollTop = messagesContainer.scrollHeight;

        }

        function finalizeScheduling() {

            const clientName = document.getElementById('clientName').value.trim();

            const clientPhone = document.getElementById('clientPhone').value.trim();

            

            if (!clientName || !clientPhone) {

                alert('Por favor, preencha todos os campos!');

                return;

            }

            

            schedulingData.clientName = clientName;

            schedulingData.clientPhone = clientPhone;

            

            const messagesContainer = document.getElementById('chatMessages');

            

            // Add confirmation message

            const botMessage = document.createElement('div');

            botMessage.className = 'chat-message';

            botMessage.innerHTML = `

                <div class="flex items-start space-x-2">

                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">

                        <i class="fas fa-check text-white text-xs"></i>

                    </div>

                    <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">

                        <p class="text-sm text-gray-800 mb-3">‚úÖ <strong>Agendamento Confirmado!</strong></p>

                        <div class="text-xs text-gray-600 space-y-1 mb-3">

                            <p><strong>Procedimento:</strong> ${schedulingData.procedure}</p>

                            <p><strong>Data:</strong> ${new Date(schedulingData.date).toLocaleDateString('pt-BR')}</p>

                            <p><strong>Hor√°rio:</strong> ${schedulingData.time}</p>

                            <p><strong>Valor:</strong> R$ ${schedulingData.price}</p>

                            <p><strong>Cliente:</strong> ${schedulingData.clientName}</p>

                        </div>

                        <button onclick="sendToWhatsApp()" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-2">

                            <i class="fab fa-whatsapp"></i>

                            <span>Enviar para WhatsApp</span>

                        </button>

                    </div>

                </div>

            `;

            messagesContainer.appendChild(botMessage);

            messagesContainer.scrollTop = messagesContainer.scrollHeight;

        }

        function sendToWhatsApp() {

            const message = `üåü *NOVO AGENDAMENTO* üåü

üìã *Procedimento:* ${schedulingData.procedure}

üìÖ *Data:* ${new Date(schedulingData.date).toLocaleDateString('pt-BR')}

‚è∞ *Hor√°rio:* ${schedulingData.time}

üí∞ *Valor:* R$ ${schedulingData.price}

üë§ *Cliente:* ${schedulingData.clientName}

üì± *WhatsApp:* ${schedulingData.clientPhone}

Agendamento realizado atrav√©s do ChatBot da cl√≠nica.`;

            const whatsappNumber = '5511999999999'; // N√∫mero da cl√≠nica

            const encodedMessage = encodeURIComponent(message);

            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

            

            window.open(whatsappUrl, '_blank');

            

            // Reset scheduling data

            schedulingData = {

                procedure: '',

                price: 0,

                date: '',

                time: '',

                clientName: '',

                clientPhone: ''

            };

        }

        // Initialize

        document.addEventListener('DOMContentLoaded', function() {

            loadCalendar();

            updateChatBot();

            loadAvailableTimes();

            updateDayAvailabilityButton();

        });

    </script>

<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9796bd28d362cb60',t:'MTc1NjkxODE1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>

</html>

